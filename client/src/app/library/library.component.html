<div class="container">
  <mat-drawer-container [hasBackdrop]="false">
    <mat-drawer #drawer [mode]="'side'">
      <table class="stats-table">
        <tr>
          <th colspan="2">State</th>
        </tr>
        <tr>
          <td matTooltip="Games in your possession that you are not interested in">Not interested</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Games that you want to buy">Wishlist</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Games in your library which you want to play">Backlog</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Games you tried but didn't catch you">Tried</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Games that you are playing currently">Playing</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Finished games">Played</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="100% no scoped these games">Completed</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Infinite games that you don't want to play anymore">Retired</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="Maybe one day you will play again... maybe">Shelved</td>
          <td></td>
        </tr>
        <tr>
          <td matTooltip="This shit bad">Abandoned</td>
          <td></td>
        </tr>
      </table>

      <table class="stats-table">
        <tr>
          <th colspan="2">Platforms</th>
        </tr>
        <tr *ngFor="let platform of platforms">
          <td>{{platform.name}}</td>
          <td></td>
        </tr>
      </table>

      <table class="stats-table">
        <tr>
          <th colspan="2">Storefronts</th>
        </tr>
        <tr *ngFor="let storefront of storefronts">
          <td>{{storefront.name | async}}</td>
          <td></td>
        </tr>
      </table>
    </mat-drawer>
    <mat-drawer-content>

      <button mat-raised-button (click)="drawer.toggle()"><mat-icon class="material-symbols-outlined">chevron_right</mat-icon></button>

    </mat-drawer-content>
  </mat-drawer-container>

  <div class="game-list">
    <mat-button-toggle-group name="view_type" [(ngModel)]="viewType" aria-label="View Type">
      <mat-button-toggle value="list" matTooltip="List View">
        <mat-icon class="material-symbols-outlined">view_list</mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="grid" matTooltip="Grid View">
        <mat-icon class="material-symbols-outlined">grid_view</mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>
    <div class="flex-container-list">
      <ng-container *ngIf="viewType === 'grid'; else listView">
        <div *ngFor="let game of gameList" class="flex-container">
          <div class="card">
            <h1>text</h1>
          </div>
        </div>
      </ng-container>
      <ng-template #listView>
        <div *ngFor="let game of gameList" >
          <div class="grid-container">
            <img *ngIf="game.cover" src="{{game.cover}}" alt="{{game.name}}">
            <img *ngIf="!game.cover" src="/assets/images/cover_not_available.jpeg" alt="{{game.name}}">
            <div class="game-info">
              <div class="info-column">
                <h2 class="game-title">{{game.name}}</h2>
                <p *ngIf="game.own" class="game-owned">Game Owned</p>
                <p *ngIf="!game.own" class="game-not-owned">Game Not Owned</p>
                <p>Status: {{game.state}}</p>
                <star-rating [rating]="game.rating" [readOnly]="true" [starType]="'svg'"></star-rating>
                <p *ngIf="game.rating">Rating: {{game.rating}}</p>
              </div>
              <div class="info-column">
                <p><b><u>Platforms:</u></b></p>
                <p *ngIf="game.platforms[0]">Platforms: {{game.platforms.join(', ')}}</p>
              </div>
              <div class="info-column">
                <p><b><u>Storefronts:</u></b></p>
                <p *ngIf="game.storefronts[0]">{{game.storefronts.join(', ')}}</p>
              </div>
              <div class="info-column">
                <p>Release Date: {{game.releaseDate | date}}</p>
                <p *ngIf="game.acquisitionDate">Acquisition Date: {{game.acquisitionDate | date}}</p>
                <p *ngIf="game.acquisitionPrice">Acquisition Price: {{game.acquisitionPrice}}â‚¬</p>
                <p *ngIf="game.acquisitionPrice == 0 || game.acquisitionPrice == undefined">Acquisition Price: For Free</p>
              </div>
              <div class="actions-column">
                <mat-button-toggle-group aria-label="Action Buttons" vertical="true">
                  <mat-button-toggle class="modify-button">
                    <span class="material-symbols-outlined">edit</span> Modify
                  </mat-button-toggle>
                  <mat-button-toggle class="delete-button">
                    <span class="material-symbols-outlined">delete</span> Delete
                  </mat-button-toggle>
                </mat-button-toggle-group>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
  <button mat-raised-button class="add-game-button" (click)="addGame()">
    Add Game <mat-icon class="material-symbols-outlined">add</mat-icon>
  </button>
</div>
    

